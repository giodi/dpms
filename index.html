<!DOCTYPE html>
<html lang="de">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>DPMS Projekt</title>
	<meta name="description" value="Projekt welches im Rahmen des Moduls DPMS an der FH GraubÃ¼nden entstanden ist.">
	<style>
		body{
			display: flex;
			justify-content: center;
			align-items: center;
			cursor: url(hand1.svg) 23 0, default;
			width: 100vw;
			height: 100vh;
			padding: 0;
			margin: 0;
		}
		svg{max-width: 800px;}
		#buttons g:focus,
		#buttons g:hover{
			fill: #b3410a;
			cursor: url(hand2.svg) 23 0, pointer;
		}

		#display.active #sender{
			fill: #fff !important;
		}
	</style>
</head>
<body>

	<audio src="one.mp3" muted></audio>
	<audio src="two.mp3" muted></audio>
	<audio src="three.mp3" muted></audio>
	<audio src="three.mp3" muted></audio>
	

	<svg width="100%" height="100%" viewBox="0 0 635 567" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
		<path id="Antenne" d="M461.819,1.523c2.147,-2.078 5.578,-2.023 7.656,0.124l5.021,5.187c2.078,2.147 2.022,5.577 -0.124,7.656l-309.323,299.437c-2.147,2.078 -5.578,2.022 -7.656,-0.125l-5.021,-5.186c-2.078,-2.147 -2.023,-5.578 0.124,-7.656l309.323,-299.437Z" style="fill:url(#_Linear1);"/>

		<g id="body">
			<path d="M542.386,220.408l-0.806,341.733l92.46,-59.421l0,-324.996c0,-6.132 -2.764,-11.678 -7.111,-15.434l0.058,-0.038c-3.183,-2.75 -7.215,-4.541 -11.633,-4.902l-517.228,-10.251l-89.226,57.342l0.372,0.938l533.114,15.029Z" style="fill:#9f0324;"/>
			<path d="M549.892,232.935c0,-11.041 -8.96,-20.182 -19.996,-20.4l-509.9,-10.106c-11.036,-0.218 -19.996,8.568 -19.996,19.608l-0,314.252c-0,11.04 8.96,20.182 19.996,20.4l509.9,10.106c11.036,0.218 19.996,-8.568 19.996,-19.608l0,-314.252Z" style="fill:#d5002d;"/>
		</g>

		<path id="display" d="M473.546,275.851c-0,-11.041 -8.96,-20.182 -19.996,-20.401l-368.661,-7.306c-11.037,-0.219 -19.996,8.567 -19.996,19.608l-0,92.693c-0,11.041 8.959,20.182 19.996,20.4l368.661,7.307c11.036,0.218 19.996,-8.568 19.996,-19.608l-0,-92.693Z"/>
		<clipPath id="_clip2"><path d="M473.546,275.851c-0,-11.041 -8.96,-20.182 -19.996,-20.401l-368.661,-7.306c-11.037,-0.219 -19.996,8.567 -19.996,19.608l-0,92.693c-0,11.041 8.959,20.182 19.996,20.4l368.661,7.307c11.036,0.218 19.996,-8.568 19.996,-19.608l-0,-92.693Z"/></clipPath><g clip-path="url(#_clip2)"><g transform="matrix(0.504951,0.0100073,-1.04181e-33,1.0002,-381.324,8.01686)"><text id="sender" x="922.486px" y="349.104px" style="font-family:'Bahnschrift', sans-serif;font-size:29.7px;fill:#fff;">SENDER</text></g>

		<g transform="matrix(0.504951,0.0100073,-1.04181e-33,1.0002,-318.21,6.74787)"><text id="time" x="1049.98px" y="314.256px" style="font-family:'Bahnschrift', sans-serif;font-size:95.04px;fill:#fff;">00:00</text></g></g><g id="buttons">

			<g id="btn4">
				<path d="M87.646,395.136c9.294,0.184 16.84,7.946 16.84,17.322c0,9.376 -12.546,19.839 -21.84,19.655c-9.294,-0.184 -16.185,-11.032 -16.185,-20.408c-0.292,-6.107 10.524,-17.146 21.185,-16.569Z" style="fill:#4a232b;"/>
				<path data-value="0" d="M82.646,398.136c9.294,0.184 16.84,7.946 16.84,17.322c0,9.376 -7.546,16.839 -16.84,16.655c-9.294,-0.184 -16.84,-7.946 -16.84,-17.322c0,-9.376 7.546,-16.839 16.84,-16.655Z" style="fill:#797979;"/>
			</g>
			<g id="btn3">
				<path d="M203.525,397.433c9.294,0.184 16.84,7.946 16.84,17.322c-0,9.376 -12.546,19.839 -21.84,19.654c-9.294,-0.184 -16.186,-11.032 -16.186,-20.408c-0.291,-6.106 10.525,-17.145 21.186,-16.568Z" style="fill:#4a232b;"/>
				<path data-value="1" d="M198.525,400.433c9.294,0.184 16.84,7.946 16.84,17.322c-0,9.376 -7.546,16.839 -16.84,16.654c-9.294,-0.184 -16.84,-7.946 -16.84,-17.322c-0,-9.376 7.546,-16.839 16.84,-16.654Z" style="fill:#797979;"/></g>
			<g id="btn2">
				<path d="M319.403,399.729c9.295,0.184 16.84,7.946 16.84,17.322c0,9.376 -12.545,19.839 -21.84,19.655c-9.294,-0.184 -16.185,-11.032 -16.185,-20.408c-0.291,-6.107 10.524,-17.146 21.185,-16.569Z" style="fill:#4a232b;"/>
				<path data-value="2" d="M314.403,402.729c9.295,0.184 16.84,7.946 16.84,17.322c0,9.376 -7.545,16.839 -16.84,16.655c-9.294,-0.184 -16.839,-7.946 -16.839,-17.322c-0,-9.376 7.545,-16.839 16.839,-16.655Z" style="fill:#797979;"/></g>
			<g id="btn1">
				<path d="M435.094,402.254c9.294,0.184 16.84,7.946 16.84,17.322c0,9.376 -12.546,19.839 -21.84,19.655c-9.294,-0.185 -16.185,-11.032 -16.185,-20.409c-0.292,-6.106 10.524,-17.145 21.185,-16.568Z" style="fill:#4a232b;"/>
				<path data-value="3"  d="M430.094,405.254c9.294,0.184 16.84,7.946 16.84,17.322c0,9.376 -7.546,16.839 -16.84,16.655c-9.294,-0.185 -16.84,-7.946 -16.84,-17.322c0,-9.377 7.546,-16.839 16.84,-16.655Z" style="fill:#797979;"/></g></g>
			<defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-6.27613,-6.48334,-158.551,153.484,313.434,157.725)"><stop offset="0" style="stop-color:#d8d8d8;stop-opacity:1"/><stop offset="0.31" style="stop-color:#e5e5e5;stop-opacity:1"/><stop offset="1" style="stop-color:#bababa;stop-opacity:1"/></linearGradient></defs>
	</svg>
	
	<script type="text/javascript">
		(()=>{

			function setTime(){
				let timeNow = Date.now();
				let time = new Date(timeNow);
				let hours = time.getHours();
				let minutes = time.getMinutes();


				if(hours < 10){
					hours.toString()
					hours = '0'+hours;
				}
				if(minutes < 10){
					minutes.toString();
					minutes = '0'+minutes;
				}

				clock.textContent = hours+':'+minutes;
				
			}

			function playAll(){
				let i = players.length;
				while(i--){
					players[i].play();
				}
			}

			channelInfo = [
				{"name": "SRF"},
				{"name": "Energy"},
				{"name": "DRS"},
				{"name": "RaBe"}
			]

			const clock = document.getElementById('time');
			const display = document.getElementById('display');
			const sender = document.getElementById('sender');
			const players = document.querySelectorAll('audio');
			const btns = document.querySelectorAll('#buttons g');
			let unmuted = false;
			let playing = false;
			let i = btns.length;
			
			// Init Stuff
			setTime();
			let timeInterval = setInterval(setTime, 1000);

			while(i--){
				btns[i].addEventListener('click',(e)=>{

					let channel = e.target.getAttribute('data-value');
					
					if(unmuted){
						unmuted.muted = true;
					}

					if(!playing){
						playAll();
						playing = true;
						display.classList.add('active');
					}
					
					players[channel].muted = false;
					unmuted = players[channel];

					sender.textContent = channelInfo[channel].name;

				})
			}
		})();
	</script>
	
</body>
</html>